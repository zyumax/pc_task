## データベースモデリング2 課題1

### PRの目的
論理設計したER図のレビューをお願いします。

### 結論
#### エンティティ
- ユーザー
  - 名前
  - メールアドレス
  - パスワード
- ワークスペース
  - 名前
- チャンネル
  - 名前
- メッセージ
  - 投稿
- スレッド
  - 投稿
- ワークスペースユーザー(中間テーブル)
  - 役割(管理者、メンバー)
  - 状態(参加、不参加)
- チャンネルユーザー(中間テーブル)
  - 役割(管理者、メンバー)
  - 状態(参加、不参加)

#### ER図
```mermaid
erDiagram
users {
  int id pk
  varchar name
  varchar email
  varchar password
  timestamp created_at
  timestamp updated_at
  timestamp deleted_at
}

workspaces {
  int id pk
  varchar name 
  timestamp created_at 
  timestamp updated_at
  timestamp deleted_at
}

workspaces_users {
  int id pk
  int workspace_id fk
  int user_id fk
  int role
  int status
  timestamp created_at
  timestamp updated_at
  timestamp deleted_at
}

channels {
  int id pk
  int workspace_id fk
  varchar name
  timestamp created_at
  timestamp updated_at
  timestamp deleted_at
}

channels_users {
  int id pk
  int channel_id fk
  int user_id fk
  int role
  int status
  timestamp created_at
  timestamp updated_at
  timestamp deleted_at
}

messages {
  int id pk
  int user_id fk
  int channel_id fk
  text post
  timestamp created_at
  timestamp updated_at
  timestamp deleted_at
}

threads {
  int id pk
  int user_id fk
  int message_id fk
  text post
  timestamp created_at
  timestamp updated_at
  timestamp deleted_at
}

%% relations
%% ユーザ-ワークスペースとユーザ-チャンネル間は多対多なので、中間テーブルを作成
users ||--|{ channels_users : ""
channels ||--|{ channels_users : ""
users ||--|{ workspaces_users : ""
workspaces ||--|{ workspaces_users : ""
users ||--o{ messages : ""
users ||--o{ threads : ""
channels }o--|| workspaces : ""
channels ||--o{ messages : ""
messages ||--o{ threads : ""
```

### 考えたこと
- ユーザーとワークスペース、ユーザーとチャンネル間の関係が多対多なので、中間テーブルを作成しました。
- ワークスペースとチャンネルには管理者が必要だと思うので、中間テーブルにroleカラムを追加
- statusカラムで参加・脱退の状態を表す

### 確認・相談したい内容
- 横断機能の実装が現時点で見当がついていない。ER図の中に組み込める？